<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamil Repatriates United Seva Trust</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar (desktop) / Navbar (mobile) -->
        <nav class="sidebar">
            <div class="sidebar">
                <div class="logo">
                    <img src="src/image/TRUST2.jpg" alt="Logo">
                </div>
                <h2>TAMIL REPATRIATES UNITED SEVA TRUST</h2>
                <!-- Other sidebar content -->
            </div>
            <ul class="menu">
                <li><a href="index.html">Home</a></li>
                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropbtn">category</a>
                    <div class="dropdown-content">
                        <a href="sports.html">Sports</a>
                        <a href="Education.html">Education</a>
                        <a href="medical.html">Medical</a>
                    </div>
                </li>
                <li><a href="album.html">Album</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contect.html">Contact</a></li>
            </ul>
        </nav>

        <!-- Main content -->
        <div class="main-content">
            <header class="marquee">
                <div class="moving-text">
                    <img src="src/image/TRUST2.jpg" class="textlogo" />
                    <h1>TAMIL REPATRIATES UNITED SEVA TRUST</h1>
                </div>
            </header>

            <!-- Image Slideshow -->
            <div id="slideshowContainer" class="carousel">
            <a class="prev" onclick="changeSlide(-1)">&#10094;</a>
            <a class="next" onclick="changeSlide(1)">&#10095;</a>
            <!-- <div class="carousel">
                <div class="slide fade">
                    <img src="src/image/banner/banner4.jpg" alt="Group Image 1">
                </div>
                <div class="slide fade">
                    <img src="src/image/banner/banner5.jpg" alt="Group Image 2">
                </div>
                <div class="slide fade">
                    <img src="src/image/banner/banner4.jpg" alt="Group Image 3">
                </div> -->

                <!-- Navigation Arrows -->
                <!-- <a class="prev" onclick="changeSlide(-1)">&#10094;</a>
                <a class="next" onclick="changeSlide(1)">&#10095;</a> -->
            </div>

            <div class="content">
                <h2>Featured Content</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
            </div>
        </div>
    </div>
<script>
    async function fetchBannerImages() {
  try {
    const response = await fetch('http://localhost:3000/images/banner');
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const images = await response.json();
    const slideshowContainer = document.getElementById('slideshowContainer');
    
    images.forEach((image, index) => {
      const slideDiv = document.createElement('div');
      slideDiv.classList.add('slide', 'fade');
      if (index === 0) slideDiv.classList.add('active');

      slideDiv.innerHTML = `
        <img src="/uploads/${image.filename}" alt="${image.description}">
      `;
      slideshowContainer.appendChild(slideDiv);
    });

    initSlideshow(); // Initialize slideshow functionality
  } catch (error) {
    console.error('Error fetching banner images:', error);
  }
}

let slideIndex = 0;

// Fetch and display banner images
async function fetchBannerImages() {
  try {
    const response = await fetch('http://localhost:3000/images/banner');
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const images = await response.json();
    const slideshowContainer = document.getElementById('slideshowContainer');

    images.forEach(image => {
      const slideDiv = document.createElement('div');
      slideDiv.classList.add('slide');
      slideDiv.innerHTML = `
        <img src="/uploads/${image.filename}" alt="${image.description}" style="width:100%">
      `;
      slideshowContainer.appendChild(slideDiv);
    });

    // Initialize slideshow after adding images
    showSlides();
  } catch (error) {
    console.error('Error fetching banner images:', error);
  }
}

function showSlides() {
  let slides = document.getElementsByClassName("slide");
  for (let i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";
  }
  slideIndex++;
  if (slideIndex > slides.length) {
    slideIndex = 1;
  }
  if (slides.length > 0) {
    slides[slideIndex - 1].style.display = "block";
  }
  setTimeout(showSlides, 5000); // Change image every 3 seconds
}

function changeSlide(n) {
  let slides = document.getElementsByClassName("slide");
  slides[slideIndex - 1].style.display = "none";
  slideIndex += n;
  if (slideIndex > slides.length) slideIndex = 1;
  if (slideIndex < 1) slideIndex = slides.length;
  slides[slideIndex - 1].style.display = "block";
}

fetchBannerImages();

</script>
    <!-- <script src="script.js"></script> -->
</body>
</html>
